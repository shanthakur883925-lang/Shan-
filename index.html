<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Ananya üíû</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <style>
        /* --- GLOBAL STYLES --- */
        body { 
            margin: 0; 
            padding: 0; 
            min-height: 100vh; 
            background: linear-gradient(135deg, #fce3ec 0%, #ffe8cc 100%); 
            font-family: 'Arial', sans-serif; 
            overflow: hidden; 
        }

        .page-container { 
            display: none; 
            justify-content: flex-start; 
            align-items: center; 
            min-height: 100vh; 
            width: 100%; 
            position: absolute; 
            top: 0; 
            left: 0; 
            flex-direction: column; 
        }

        /* --- FINAL 18 ENVELOPES PAGE --- */
        #finalEnvelopePage {
            background-color: #fce3ec;
            z-index: 500;
            overflow-y: auto;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; 
            padding-top: 50px;
            padding-bottom: 60px;
            position: fixed;
            height: 100vh;
            width: 100%;
            box-sizing: border-box;
        }

        .envelope-grid-large {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            padding: 20px;
            max-width: 600px;
            width: 100%;
            box-sizing: border-box;
        }

        /* --- NEW SURPRISE PAGES STYLES --- */
        #suggestionPage, #page24, #page25, #page26, #page27, #finalNotePage {
            background-color: #fffbe6;
            z-index: 600;
            justify-content: center;
        }

        /* --- FINAL NOTE PAGE STYLE --- */
        #finalNotePage {
            background: linear-gradient(135deg, #fce3ec 0%, #ffc2d1 100%);
            overflow-y: auto;
            padding: 40px 20px;
            display: none;
        }

        .typewriter-box {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 20px;
            text-align: left;
            box-shadow: 0 10px 30px rgba(255, 77, 109, 0.3);
            max-width: 90%;
            width: 500px;
            border: 3px solid #ff8fab;
            margin: auto;
        }

        #typewriterContent {
            color: #d6336c;
            font-family: 'Comic Sans MS', cursive;
            font-size: 17px;
            line-height: 1.6;
            white-space: pre-wrap; /* Keeps the line breaks */
        }

        /* --- BOX & INPUT STYLES --- */
        .quiz-container-style { 
            background-color: #ffc2d1; 
            z-index: 100; 
        }

        .quiz-box { 
            background: rgba(255, 255, 255, 0.9); 
            padding: 40px; 
            border-radius: 20px; 
            text-align: center; 
            box-shadow: 0 10px 30px rgba(255, 77, 109, 0.3); 
            max-width: 80%; 
            margin-top: 100px;
        }

        .quiz-box h2 { 
            color: #d6336c; 
            font-size: 22px; 
            margin-bottom: 25px; 
        }

        .quiz-input { 
            padding: 12px 20px; 
            font-size: 16px; 
            border: 2px solid #ff8fab; 
            border-radius: 30px; 
            outline: none; 
            width: 80%; 
            text-align: center; 
            margin-bottom: 20px; 
        }

        /* --- BUTTONS --- */
        .submit-btn { 
            padding: 10px 30px; 
            font-size: 18px; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            background-color: #ff4d6d; 
            color: white; 
            font-weight: bold; 
        }

        .error-msg { 
            color: #d32f2f; 
            margin-top: 10px; 
            font-size: 14px; 
            display: none; 
        }

        /* --- ANIMATED HEARTS --- */
        .hearts-bg { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            pointer-events: none; 
            overflow: hidden; 
        }

        .heart { 
            position: absolute; 
            bottom: -10%; 
            font-size: 24px; 
            animation: floatUp linear infinite; 
            opacity: 0.7; 
        }

        @keyframes floatUp { 
            0% { transform: translateY(0) rotate(0deg); opacity: 1; } 
            100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; } 
        }

        /* --- ENVELOPE DESIGN --- */
        .envelope-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 30px; 
            z-index: 10; 
            margin-bottom: 30px; 
            margin-top: 120px;
        }

        .envelope-item { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            cursor: pointer; 
            transition: transform 0.2s; 
        }

        .envelope-item:hover { transform: scale(1.1); }

        .envelope-icon { 
            width: 100px; 
            height: 70px; 
            background-color: #ff8fab; 
            position: relative; 
            border-radius: 5px; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
            font-size: 24px;
        }

        .envelope-icon::after { 
            content: ''; 
            position: absolute; 
            top: 0; 
            border-left: 50px solid transparent; 
            border-right: 50px solid transparent; 
            border-top: 35px solid #ffb3c6; 
        }

        .envelope-label { 
            margin-top: 10px; 
            color: #d6336c; 
            font-weight: bold; 
            font-size: 14px; 
        }

        /* --- MODAL BOX --- */
        .modal-overlay { 
            display: none; 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background-color: rgba(0,0,0,0.6); 
            z-index: 2000; 
            justify-content: center; 
            align-items: center; 
        }

        .modal-content { 
            background-color: #fffbe6; 
            width: 90%; 
            max-width: 600px; 
            border-radius: 20px; 
            padding: 25px; 
            display: flex; 
            gap: 20px; 
            position: relative; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); 
        }

        .modal-image { 
            width: 100%; 
            max-height: 280px; 
            object-fit: cover; 
            border-radius: 15px; 
            border: 4px solid white; 
        }

        .modal-message { 
            color: #444; 
            font-size: 17px; 
            font-family: 'Comic Sans MS', cursive; 
            font-style: italic; 
            line-height: 1.5; 
        }

        .back-btn { 
            position: absolute; 
            bottom: 20px; 
            right: 20px; 
            background-color: #ff4d6d; 
            color: white; 
            border: none; 
            padding: 10px 25px; 
            border-radius: 25px; 
            cursor: pointer; 
            font-weight: bold; 
        }

        /* --- FIREWORKS & JOKE PAGE --- */
        #fireworksPage { 
            background-color: #000; 
            z-index: 300; 
            overflow: hidden; 
            text-align: center; 
            justify-content: center;
        }

        .firework-text { 
            position: absolute; 
            color: #ff4d6d; 
            font-weight: bold; 
            font-size: 24px; 
            pointer-events: none; 
            text-shadow: 0 0 10px #ff4d6d; 
        }

        #jokePage { 
            background-color: #fffbe6; 
            z-index: 400; 
            text-align: center; 
            padding: 20px; 
            overflow-y: auto; 
            justify-content: center;
        }

        .joke-img { 
            max-width: 90%; 
            max-height: 70vh; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            margin-top: 20px; 
            border: 5px solid #ff8fab; 
        }

        #moreAnyaBtn, #jokeBtn { 
            display: none; 
            background: linear-gradient(45deg, #ff4d6d, #ff8fab); 
            color: white; 
            padding: 15px 40px; 
            font-size: 18px; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            box-shadow: 0 5px 15px rgba(214, 51, 108, 0.4); 
            font-weight: bold; 
            z-index: 100; 
            animation: pulse 1.5s infinite; 
        }

        @keyframes pulse { 
            0% { transform: scale(1); } 
            50% { transform: scale(1.05); } 
            100% { transform: scale(1); } 
        }

        @media (max-width: 600px) { 
            .modal-content { flex-direction: column; padding-bottom: 70px; } 
            .back-btn { right: 50%; transform: translateX(50%); } 
        }
    </style>
</head>
<body>

    <div id="quizPage1" class="page-container quiz-container-style" style="display: flex;">
        <div class="hearts-bg" id="hearts1"></div>
        <div class="quiz-box">
            <h2>Which of your names does Shan like the most? ü©∑</h2>
            <input type="text" id="ans1" class="quiz-input" placeholder="Type answer...">
            <br>
            <button class="submit-btn" onclick="checkAnswer1()">Submit</button>
            <p id="error1" class="error-msg">Wrong answer, hint: It's you! üòâ</p>
        </div>
    </div>

    <div id="quizPage2" class="page-container quiz-container-style">
        <div class="hearts-bg" id="hearts2"></div>
        <div class="quiz-box">
            <h2>Which second name of yours does Shan like the most? üíû</h2>
            <input type="text" id="ans2" class="quiz-input" placeholder="Type answer...">
            <br>
            <button class="submit-btn" onclick="checkAnswer2()">Submit</button>
            <p id="error2" class="error-msg">Wrong answer, try again! ü•∫</p>
        </div>
    </div>

    <div id="questionPageContainer" class="page-container" style="justify-content: center;">
        <div class="main-box">
            <div class="gif-container">
                <img src="https://media.giphy.com/media/ISce1CtsI5v3y/giphy.gif" alt="Cute Bear Asking">
            </div>
            <h1 style="text-align: center; color:#d6336c;">Ananya üíû<br>Will you be my Valentine?</h1>
            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 20px;">
                <button id="yesBtn" style="padding: 10px 30px; font-size: 18px; border: none; border-radius: 50px; cursor: pointer; background-color: #2ecc71; color: white; font-weight: bold;" onclick="acceptLove()">Yes</button>
                <button id="noBtn" style="padding: 10px 30px; font-size: 18px; border: none; border-radius: 50px; cursor: pointer; background-color: #ff4757; color: white; font-weight: bold;" onmouseover="moveButton()" onclick="moveButton()">No</button>
            </div>
        </div>
    </div>

    <div id="envelopePageContainer" class="page-container">
        <div class="hearts-bg" id="hearts3"></div>
        <div class="envelope-grid">
            <div class="envelope-item" onclick="openEnvelope(1)">
                <div class="envelope-icon">ü§ç</div>
                <div class="envelope-label">Just You ü§ç</div>
            </div>
            <div class="envelope-item" onclick="openEnvelope(2)">
                <div class="envelope-icon">‚ú®</div>
                <div class="envelope-label">You Matter ‚ú®</div>
            </div>
            <div class="envelope-item" onclick="openEnvelope(3)">
                <div class="envelope-icon">‚≠ê</div>
                <div class="envelope-label">A Memory ‚≠ê</div>
            </div>
            <div class="envelope-item" onclick="openEnvelope(4)">
                <div class="envelope-icon">üíó</div>
                <div class="envelope-label">Still you üíó</div>
            </div>
        </div>
        <button id="moreAnyaBtn" class="submit-btn" style="display:none; margin-top:30px;" onclick="showFireworksPage()">Click here for more Anya ‚ú®</button>
    </div>

    <div id="fireworksPage" class="page-container">
        <h1 style="color: white; font-family: cursive; margin-top: -50px;">I love you Ananya Singh Parihar</h1>
        <p style="color: #ff8fab;">(Click anywhere on the screen!)</p>
        <button id="jokeBtn" style="display: block; position: absolute; bottom: 100px;" onclick="showJokePage()">( click here for jock )</button>
    </div>

    <div id="jokePage" class="page-container">
        <h2 style="color: #d6336c;">Surprise Joke! üòÇ</h2>
        <img src="images/JOCK.jpg" alt="Spider Dudu Joke" class="joke-img">
        <br>
        <div style="margin-top: 30px;">
            <button class="submit-btn" style="background-color: #ff8fab;" onclick="showFinalEnvelopes()">Click here Anya</button>
        </div>
    </div>

    <div id="finalEnvelopePage" class="page-container">
        <div class="hearts-bg" id="heartsFinal"></div>
        <h1 style="color: #d6336c; z-index: 10; margin-bottom: 20px; position: relative;">18 Special Memories ü©∑</h1>
        <div class="envelope-grid-large" id="largeGrid"></div>
        <button id="suggestionBtn" class="submit-btn" style="margin-top: 30px; margin-bottom: 50px; background-color: #ff8fab;" onclick="showSuggestionPage()">suggestion for you</button>
    </div>

    <div id="suggestionPage" class="page-container">
        <img src="images/img23.jpg" class="joke-img">
        <br>
        <button class="submit-btn" style="background-color: #ff4d6d;" onclick="showPage24()">FOR YOU ANYA</button>
    </div>

    <div id="page24" class="page-container">
        <img src="images/img24.jpg" class="joke-img">
        <br>
        <button class="submit-btn" style="background-color: #ff8fab;" onclick="showPage25()">next</button>
    </div>

    <div id="page25" class="page-container">
        <img src="images/img25.jpg" class="joke-img">
        <br>
        <button class="submit-btn" style="background-color: #ff8fab;" onclick="showPage26()">next</button>
    </div>

    <div id="page26" class="page-container">
        <img src="images/img26.jpg" class="joke-img">
        <br>
        <button class="submit-btn" style="background-color: #ff8fab;" onclick="showPage27()">next</button>
    </div>

    <div id="page27" class="page-container">
        <img src="images/img27.jpg" class="joke-img">
        <br>
        <button class="submit-btn" style="background-color: #ff4d6d;" onclick="showFinalNote()">see my final note</button>
    </div>

    <div id="finalNotePage" class="page-container">
        <div class="hearts-bg" id="heartsFinalNote"></div>
        <div class="typewriter-box">
            <div id="typewriterContent"></div>
            <button id="restartBtn" class="submit-btn" style="margin-top: 30px; display: none; width: 100%;" onclick="location.reload()">Start Over ‚ù§Ô∏è</button>
        </div>
    </div>

    <div id="modalOverlay" class="modal-overlay">
        <div class="modal-content">
            <div style="flex:1"><img id="modalImg" src="" class="modal-image"></div>
            <div style="flex:1"><p id="modalText" class="modal-message"></p></div>
            <button class="back-btn" onclick="closeModal()">Back</button>
        </div>
    </div>

    <script>
        let openedEnvelopes = new Set();

        // HEART CREATION
        function createHearts(id) { 
            const container = document.getElementById(id); 
            if(!container) return;
            const hearts = ['ü©∑', '‚ô•Ô∏è', 'üíû', 'üíñ']; 
            container.innerHTML = ''; 
            for (let i = 0; i < 30; i++) { 
                const h = document.createElement('div'); 
                h.className = 'heart'; 
                h.innerText = hearts[Math.floor(Math.random()*hearts.length)]; 
                h.style.left = (Math.random() * 100) + 'vw'; 
                h.style.animationDuration = (Math.random() * 5 + 5) + 's'; 
                h.style.fontSize = (Math.random() * 20 + 15) + 'px'; 
                container.appendChild(h); 
            } 
        }

        window.onload = () => { createHearts('hearts1'); createHearts('hearts2'); createHearts('hearts3'); };

        // QUIZ & BUTTON LOGIC
        function checkAnswer1() { 
            if(document.getElementById('ans1').value.trim().toLowerCase() === 'anya') { 
                document.getElementById('quizPage1').style.display = 'none'; 
                document.getElementById('quizPage2').style.display = 'flex'; 
            } else document.getElementById('error1').style.display = 'block'; 
        }

        function checkAnswer2() { 
            if(document.getElementById('ans2').value.trim().toLowerCase() === 'teree') { 
                document.getElementById('quizPage2').style.display = 'none'; 
                document.getElementById('questionPageContainer').style.display = 'flex'; 
            } else document.getElementById('error2').style.display = 'block'; 
        }

        function moveButton() { 
            const btn = document.getElementById('noBtn'); 
            btn.style.position = "fixed"; 
            btn.style.left = Math.random() * (window.innerWidth - 100) + 'px'; 
            btn.style.top = Math.random() * (window.innerHeight - 100) + 'px'; 
        }

        function acceptLove() { 
            document.getElementById('questionPageContainer').style.display = 'none'; 
            document.getElementById('envelopePageContainer').style.display = 'flex'; 
        }

        // ENVELOPE DATA
        const envelopeData = {
            1: { img: "images/img1.jpg", text: "This 14th February, it‚Äôs just you, Ananya. ‚ù§Ô∏è" },
            2: { img: "images/img2.jpg", text: "You matter to me in ways words can never explain. ‚ù§Ô∏è" },
            3: { img: "images/img3.jpg", text: "Some memories don‚Äôt fade. You are unforgettable. ‚ù§Ô∏è" },
            4: { img: "images/img4.jpg", text: "It's still you, always. ‚ù§Ô∏è" }
        };

        function openEnvelope(id) { 
            const data = envelopeData[id] || { img: `images/img${id}.jpg`, text: `Memory ${id-4} üíû` };
            document.getElementById('modalImg').src = data.img; 
            document.getElementById('modalText').innerText = data.text; 
            document.getElementById('modalOverlay').style.display = 'flex'; 
            openedEnvelopes.add(id);
            if(openedEnvelopes.size === 4 && id <= 4) document.getElementById('moreAnyaBtn').style.display = 'block'; 
        }

        function closeModal() { document.getElementById('modalOverlay').style.display = 'none'; }

        // NAVIGATION FUNCTIONS
        function showFireworksPage() { 
            document.getElementById('envelopePageContainer').style.display = 'none'; 
            document.getElementById('fireworksPage').style.display = 'flex'; 
        }

        function showJokePage() { 
            document.getElementById('fireworksPage').style.display = 'none'; 
            document.getElementById('jokePage').style.display = 'flex'; 
        }

        function showFinalEnvelopes() {
            document.getElementById('jokePage').style.display = 'none';
            document.getElementById('finalEnvelopePage').style.display = 'flex';
            generate18Envelopes(); 
        }

        function showSuggestionPage() {
            document.getElementById('finalEnvelopePage').style.display = 'none';
            document.getElementById('suggestionPage').style.display = 'flex';
        }

        function showPage24() {
            document.getElementById('suggestionPage').style.display = 'none';
            document.getElementById('page24').style.display = 'flex';
        }
        function showPage25() {
            document.getElementById('page24').style.display = 'none';
            document.getElementById('page25').style.display = 'flex';
        }
        function showPage26() {
            document.getElementById('page25').style.display = 'none';
            document.getElementById('page26').style.display = 'flex';
        }
        function showPage27() {
            document.getElementById('page26').style.display = 'none';
            document.getElementById('page27').style.display = 'flex';
        }

        function showFinalNote() {
            document.getElementById('page27').style.display = 'none';
            document.getElementById('finalNotePage').style.display = 'flex';
            createHearts('heartsFinalNote');
            startTypewriter();
        }

        function startTypewriter() {
            const message = `Hi bubu,
This is the last message of this project, and I really hope you liked it.
I made it with all my heart.
I love you, bubu üòö
And thank you for everything you have done for me.
I know sometimes I make mistakes, and sometimes I mess things up,
but that never means that I don‚Äôt love you.
The truth is, I love you a lot‚Ä¶ more than I can explain in words.
Honestly, I didn‚Äôt know what exactly to write in this message.
There is so much I want to say,
but the page feels too small for everything that‚Äôs in my heart.
So I just want to say one simple thing ‚Äî
you are very special to me.
You were, you are, and you will always be.
That will never change.
Please don‚Äôt fight with me too much, girl üòÖ
I‚Äôm not perfect, but my intentions for you are always real.
Thank you for coming into my life.
Thank you for standing by me and supporting me the way you do.
All I truly want is for you to always stay with me.
I love you üòö
I love you so much üòöüòö
Thank you for everything üòöüòöüòöüòö`;

            const container = document.getElementById('typewriterContent');
            let i = 0;
            function type() {
                if (i < message.length) {
                    container.innerHTML += message.charAt(i);
                    i++;
                    setTimeout(type, 50);
                    const page = document.getElementById('finalNotePage');
                    page.scrollTop = page.scrollHeight;
                } else {
                    document.getElementById('restartBtn').style.display = 'block';
                }
            }
            type();
        }

        function generate18Envelopes() {
            const grid = document.getElementById('largeGrid'); grid.innerHTML = ''; 
            for (let i = 1; i <= 18; i++) {
                const item = document.createElement('div'); item.className = 'envelope-item';
                item.onclick = () => openEnvelope(i + 4); 
                item.innerHTML = `<div class="envelope-icon">üíñ</div><div class="envelope-label">Memory ${i}</div>`;
                grid.appendChild(item);
            }
        }

        // FIREWORKS
        document.getElementById('fireworksPage').addEventListener('click', (e) => { 
            const num = 16;
            const letters = "I LOVE YOU ANANYA üíû";
            for (let i = 0; i < num; i++) {
                const p = document.createElement('div');
                p.className = 'firework-text';
                p.innerText = letters[Math.floor(Math.random()*letters.length)];
                document.getElementById('fireworksPage').appendChild(p);
                p.style.left = e.clientX + 'px';
                p.style.top = e.clientY + 'px';

                const angle = (Math.PI * 2 / num) * i;
                const distance = 150 + Math.random() * 100;
                const destX = Math.cos(angle) * distance;
                const destY = Math.sin(angle) * distance;

                anime({
                    targets: p,
                    translateX: destX,
                    translateY: destY,
                    opacity: [1, 0],
                    scale: [1, 2],
                    duration: 2500,
                    easing: 'easeOutExpo',
                    complete: () => p.remove()
                });
            }
        });
    </script>
</body>
</html>
